\usepackage[spanish,es-tabla]{babel}
\selectlanguage{spanish}
\usepackage{silence}
\WarningFilter{inputenc}{inputenc package ignored with utf8 based engines}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{newunicodechar}
\newunicodechar{¿}{?`}
\newunicodechar{¡}{!`}
\usepackage[hyphens]{url}
\usepackage{pgfplots}
\usepackage[hidelinks,draft=false]{hyperref}
\usepackage{amssymb,amsmath,amsthm,amsfonts}
\usepackage{calc}
\usepackage{float}
\usepackage{changepage}
\usepackage{cancel}
\usepackage{graphicx}
\usepackage{nameref}
\usepackage{ifdraft}
\usepackage{subfig}
\usepackage{stmaryrd}
\usepackage{stackengine}
\usepackage{mdframed}
\usepackage{needspace}
\usepackage{wrapfig}
\usepackage{csquotes}
%\usepackage[numbers]{natbib}
\usepackage[
    backend=biber,
    style=alphabetic
]{biblatex}
\addbibresource{biblio.bib}
\usepackage{multirow}
\usepackage{fancyvrb}
\usepackage{nicefrac}
\usepackage{caption}
\usepackage{graphicx}
\usepackage{parskip}
\usepackage{relsize}
\usepackage{listings}
\usepackage{color}
\usepackage{fancyhdr}
\usepackage{textcomp, gensymb}
\usepackage{vmargin}
\usepackage{dirtytalk}
\usepackage{tikz,mathtools}
\pgfplotsset{compat=1.14}
\usepackage{braket}
\usepackage{proof}
\usepackage{cmll}
\usepackage{siunitx}
\usepackage[final]{pdfpages}
\newtheorem*{theorem}{Theorem}
\usepackage{tikz}
\usepackage{multicol}
\usepackage{vwcol}
% \usepackage{enumitem}
% \usepackage{qcircuit}
\WarningFilter{etex}{Extended allocation already in use}
\usepackage{linegoal}
\usepackage{proof}
\usepackage{stmaryrd}
\usepackage{cmll}
\usepackage{geometry,array}
\usepackage[edges]{forest}
\usetikzlibrary{shadows}
\usepackage{soul}
\usepackage{tabularx}
\usepackage{outlines}
\usepackage{xcolor}
\usepackage{setspace}
\usepackage[toc,page]{appendix}
\usetikzlibrary{backgrounds,fit,decorations.pathreplacing,calc}


% Default fixed font does not support bold face
\DeclareFixedFont{\ttb}{T1}{txtt}{bx}{n}{12} % for bold
\DeclareFixedFont{\ttm}{T1}{txtt}{m}{n}{12}  % for normal

% Custom colors
\definecolor{deepblue}{rgb}{0,0,0.5}
\definecolor{deepred}{rgb}{0.6,0,0}
\definecolor{deepgreen}{rgb}{0,0.5,0}

% Python style for highlighting
\newcommand\pythonstyle{\lstset{
language=Python,
basicstyle=\ttm,
breaklines=true,
otherkeywords={self, =, @, +, -, /, *},             % Add keywords here
keywordstyle=\ttb\color{deepblue},
emph={MyClass,__init__},          % Custom highlighting
emphstyle=\ttb\color{deepred},    % Custom highlighting style
stringstyle=\color{deepgreen},
frame=tb,                         % Any extra options here
showstringspaces=false            % 
}}

%%%% cuantica

\newcommand\B{\mathbb B}
\newcommand\Q{\B}
\newcommand\tbasis{\ensuremath{\mathfrak B}}
\newcommand\types{\ensuremath{\mathcal T}}
\newcommand\qtypes{\ensuremath{\mathcal Q}}
\newcommand\values{\ensuremath{\mathcal V}}
\newcommand\One{\bm{1}}
\newcommand\SN{\ensuremath{\mathcal{SN}}}
\newcommand\Neu{\ensuremath{\mathcal N}}
\newcommand\Red[1]{\ensuremath{\mathsf{Red}(#1)}}
\newcommand\CR[1]{\ensuremath{(\mathsf{CR}_{#1})}}
\newcommand\RC{\ensuremath{\mathcal{RC}}}
\newcommand\conlista{\leavevmode\vspace{-0.4\baselineskip}}
\newcommand\prodi[2]{\langle #1, #2 \rangle}
\newcommand\norma[1]{\Vert #1 \Vert}
\newcommand\matriz[1]{\begin{bmatrix}#1\end{bmatrix}}
\newcommand\conj[1]{#1^*}
\newcommand\adj[1]{#1^\dagger}
\newcommand\trans[1]{#1^T}
\newcommand\inv[1]{#1^{-1}}
\newcommand\tr{\ensuremath{\mathsf{tr}}}
\newcommand\ifz[3]{\ensuremath{\mathsf{isZ}({#1})?{#2}\!:\!{#3}}}
\newcommand\ite[3]{\ifz{#1}{#2}{#3}}
\newcommand\fun[2]{\ensuremath{\lambda #1.#2}}
\newcommand\fix[2]{\ensuremath{ \mu #1.#2}}
\newcommand\letl[3]{\ensuremath{\mathsf{let~}#1=#2\mathsf{~in~}#3}}
\newcommand\nat{\ensuremath{\mathsf{nat}}}
\newcommand\fst{\ensuremath{\pi_1}}
\newcommand\snd{\ensuremath{\pi_2}}
\newcommand\FV{\ensuremath{\mathsf{FV}}}
\newcommand\mgu{\ensuremath{\mathsf{mgu}}}
\newcommand\Gen{\ensuremath{\mathsf{Gen}}}
\newcommand\s[1]{\ensuremath{\mathsf{#1}}}
\newcommand\thunk[2]{\ensuremath{\langle{#1},{#2}\rangle}}
\newcommand\cierre[3]{\ensuremath{\thunk{{#1},{#2}}{#3}}}
\newcommand\hra{\ensuremath{\hookrightarrow}}
\newcommand\sem[1]{\ensuremath{\llbracket{#1}\rrbracket}}
\newcommand\semT[2][\theta]{\ensuremath{\sem{#2}_{#1}}}
\newcommand\promote[3]{\ensuremath{\mathsf{promote}\ #1\ \mathsf{for}\ #2\ \mathsf{in}\ #3}}
\newcommand\derelict[1]{\ensuremath{\mathsf{derelict}\ #1}}
\newcommand\discard[2]{\ensuremath{\mathsf{discard}\ #1\ \mathsf{in}\ #2}}
\newcommand\copyt[3]{\ensuremath{\mathsf{copy}\ #1\ \mathsf{as}\ #2\ \mathsf{in}\ #3}}
\newcommand\prog[2]{[{#1},{#2}]}
\newcommand\newq{\ensuremath{\mathsf{new}}}
\newcommand\meas{\ensuremath{\mathsf{meas}}}
\newcommand\bit{\ensuremath{\mathsf{bit}}}
\newcommand\qbit{\ensuremath{\mathsf{qbit}}}
\newcommand\te[1]{\ensuremath{\mathit{#1}}}
\newcommand\un[1]{\ensuremath{\mathcal{#1}}}
\newcommand\gen[1]{\ensuremath{\mathbb{#1}}}
\newcommand\z[1][A]{\vec 0_{S(#1)}}
\newcommand\pair[2]{({#1}+{#2})}
\newcommand\lra[1][1]{\longrightarrow_{\left(#1\right)}}
\newcommand\may[1][\alpha]{[{#1}.]}
\newcommand\titulo[3][\scriptsize]{\rotatebox[origin=c]{90}{\parbox[t]{#2}{\centering #1{#3}}}}
\newcommand\tax{\textsl{Ax}}
\newcommand\tif{\textsl{If}}
\newcommand\rbetab{(\s{\beta_b})}
\newcommand\rbetan{(\s{\beta_n})}
\newcommand\riftrue{(\s{if_{1}})}
\newcommand\riffalse{(\s{if_{0}})}
\newcommand\rlinr{(\s{lin^+_r})}
\newcommand\rlinscalr{(\s{lin^\alpha_r})}
\newcommand\rlinzr{(\s{lin^0_r})}
\newcommand\rlinl{(\s{lin^+_l})}
\newcommand\rlinscall{(\s{lin^\alpha_l})}
\newcommand\rlinzl{(\s{lin^0_l})}
\newcommand\rneut{(\s{neutral})}
\newcommand\runit{(\s{unit})}
\newcommand\rzeros{(\s{zero_\alpha})}
\newcommand\rzeroS{(\s{zero_S})}
\newcommand\rzero{(\s{zero})}
\newcommand\rprod{(\s{prod})}
\newcommand\rdists{(\s{\alpha dist})}
\newcommand\rdistcasum{(\s{dist^+_\Uparrow})}
\newcommand\rdistcascal{(\s{dist^\alpha_\Uparrow})}
\newcommand\rcaneutl{(\s{neut^\Uparrow_l})}
\newcommand\rcaneutr{(\s{neut^\Uparrow_r})}
\newcommand\rfact{(\s{fact})}
\newcommand\rfacto{(\s{fact^1})}
\newcommand\rfactt{(\s{fact^2})}
\newcommand\rproj{(\s{proj})}
\newcommand\rehead{(\s{head})}
\newcommand\rtail{(\s{tail})}
\newcommand\rdistzr{(\s{dist^0_r})}
\newcommand\rdistzl{(\s{dist^0_l})}
\newcommand\rdistscalr{(\s{dist^\alpha_r})}
\newcommand\rdistscall{(\s{dist^\alpha_l})}
\newcommand\rdistsumr{(\s{dist^+_r})}
\newcommand\rdistsuml{(\s{dist^+_l})}
\newcommand\rcomm{(\s{comm})}
\newcommand\rassoc{(\s{assoc})}
\newcommand\cas[2]{\Uparrow^{\scriptscriptstyle S({#2})}_{\scriptscriptstyle S({#1})}}
\newcommand\head{\text{\sl head}}
\newcommand\tail{\text{\sl tail}}
\newcommand\red[2][1]{\overset{\scriptscriptstyle\smash{#2}\vphantom{x}}{\lra[#1]}\ }
\newcommand\npair[2]{({#1}-{#2})}
\newcommand\ftv{\text{ftv}}
\newcommand\dom{\text{dom}}
\newcommand\pur{\text{pur}}
\newcommand\Pur{\text{Pur}}


\theoremstyle{definition}

% \definecolor{grisframe}{gray}{0.95}
% \definecolor{gristitleframe}{gray}{0.85}
\mdfsetup{%backgroundcolor=grisframe,
 skipabove=12pt,
 skipbelow=12pt,
%  leftmargin=0pt,
%  rightmargin=0pt,
%  innertopmargin=12pt,
%  innerbottommargin=6pt,
%  innerleftmargin=12pt,
%  innerrightmargin=12pt,
%  frametitleaboveskip=12pt,
%  frametitlebelowskip=6pt,
 % frametitlerule=true,
 % frametitlebackgroundcolor=gristitleframe,
 splittopskip=20pt}
 
\newmdtheoremenv{definicion}{Definición}[chapter]
\newtheorem{teorema}[definicion]{Teorema}
\newtheorem{lema}[definicion]{Lema}
\newtheorem{corolario}[definicion]{Corolario}
\newtheorem*{propiedades}{Propiedades}
\newtheorem*{propiedad}{Propiedad}
% \declaretheorem[style=definition]{postulado}
% \addtotheorempreheadhook[postulado]{%
%   \moveright\dimexpr(\linewidth-35em)/2\vbox\bgroup
%   \hsize=35em
%   \linewidth=\hsize
% }
% \addtotheorempostfoothook[postulado]{\egroup}
% \newenvironment{postuladobis}[1]
% {\renewcommand{\thepostulado}{\ref{#1}$'$}%
% \addtocounter{postulado}{-1}%
% \begin{postulado}}
%   {\end{postulado}}
% \newenvironment{postuladoAlt}[1]
% {\renewcommand{\thepostulado}{\ref{#1}}%
% \addtocounter{postulado}{-4}%
% \begin{postulado}}
%   {\end{postulado}}
\theoremstyle{remark}
\newtheorem{ejemplo}[definicion]{Ejemplo}
\newtheorem{ejemplos}[definicion]{Ejemplos}
\newtheorem*{observacion}{Observación}
\newtheorem*{observaciones}{Observaciones}



\lstdefinelanguage{Lambda}{%
  morekeywords={%
    if,then,else,fix % keywords go here
  },%
  morekeywords={[2]int},   % types go here
  otherkeywords={:}, % operators go here
  literate={% replace strings with symbols
    {->}{{$\to$}}{2}
    {lambda}{{$\lambda$}}{1}
  },
  basicstyle={\sffamily},
  keywordstyle={\bfseries},
  keywordstyle={[2]\itshape}, % style for types
  keepspaces,
  mathescape % optional
}[keywords,comments,strings]%
% Python environment
\lstnewenvironment{python}[1][]
{
\pythonstyle
\lstset{#1}
}
{}

% Python for external files
\newcommand\pythonexternal[2][]{{
\pythonstyle
\lstinputlisting[#1]{#2}}}

% Python for inline
\newcommand\pythoninline[1]{{\pythonstyle\lstinline!#1!}}


\newcommand\todo[1]{\mbox{\parbox{\linegoal}{\it \hl{TO-DO} #1}}}
\newcommand\correccion[1]{\mbox{\parbox{\linegoal}{\it \hl{CORRECCION} #1}}}
\newtheoremstyle{named}{}{}{\itshape}{}{\bfseries}{.}{.5em}{\thmnote{#3}}
\theoremstyle{named}
\newtheorem*{namedtheorem}{Theorem}
\setmarginsrb{3 cm}{2.5 cm}{3 cm}{1.8 cm}{1 cm}{1.5 cm}{1 cm}{1.5 cm}

\setlength{\headsep}{0.4in}


\setlength{\inferLineSkip}{4pt}
\decimalpoint

\newcommand{\concat}{%
  \mathbin{{+}\mspace{-8mu}{+}}%
}

\def\blankpage{%
      \clearpage%
      \thispagestyle{empty}%
      \addtocounter{page}{-1}%
      \null%
      \clearpage}
      
      

\addto\captionsspanish{%
  \renewcommand\appendixname{Anexo}
  \renewcommand\appendixpagename{Anexos}
}

\newcommand{\zerotext}[2][0pt]{\makebox[#1][l]{\qquad#2}}

\newcommand\redqk{\overset{\textit{qk}}{\rightarrow}}
\newcommand\redpy{\overset{\textit{py}}{\rightarrow}}
\newcommand\redlam{\overset{\lambda_\rho}{\rightarrow}}
\newcommand{\transl}[1]{\ensuremath{\llparenthesis  #1 \rrparenthesis}}
\newcommand{\transli}[1]{\ensuremath{\llparenthesis  #1 \rrparenthesis^{-1}}}

\newcommand{\treedesc}[2]{\textbf{#1}\hspace{0pt} \parbox{0.9\linegoal}{\vspace{0pt}\fontfamily{cmr}\selectfont #2 \vspace{0pt}}}


%% borrador draft
\ifdraft{
    \usepackage[firstpage]{draftwatermark}
    \SetWatermarkText{\mdseries BORRADOR}
    \SetWatermarkScale{1}
    \DraftwatermarkOptions{color={[RGB]{255,191,191}}}
    \DraftwatermarkOptions{fontsize=3.6cm}
}{}
\setlength{\extrarowheight}{3pt}

\newcommand{\biglambda}{\makebox{\Large\ensuremath{\lambda}}}
\newcommand{\bigmultimap}{\makebox{\Large\ensuremath{\multimap}}}
\newcommand{\fakeitem}{\makebox[\labelwidth][r]{\textbullet}}